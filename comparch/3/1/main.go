package main

import (
	"github.com/k0kubun/pp"
)

func main() {
	// a := [4][4]int{
	// 	{0, 0, 0, 1},
	// 	{0, 2, 0, 0},
	// 	{0, 0, 3, 0},
	// 	{4, 0, 0, 0},
	// }
	// b := [4][4]int{
	// 	{0, 1, 2, 3},
	// 	{4, 5, 6, 7},
	// 	{8, 9, 10, 11},
	// 	{12, 13, 14, 15},
	// }
	a := [16]int{
		0, 0, 0, 1,
		0, 2, 0, 0,
		0, 0, 3, 0,
		4, 0, 0, 0,
	}
	b := [16]int{
		0, 1, 2, 3,
		4, 5, 6, 7,
		8, 9, 10, 11,
		12, 13, 14, 15,
	}
	c := [16]int{}

	// 0: 0:0+1:4+2:8+3:12
	// 1: 0:1+1:5+2:9+3:13
	// 2: 0:2+1:6+2:10+3:14
	// 3: 0:3+1:7+2:11+3:15
	//
	// 4: 4:0+5:4+6:8+7:12
	// 5: 4:1+5:5+6:9+7:13
	// 6: 4:2+5:6+6:10+7:14
	// 7: 4:3+5:7+6:11+7:15

	i := 12
	for {
		j := 3
		jj := 12
		for {
			aa := a[i+j]
			k := 3
			for {
				c[i+k] += aa * b[jj+k]
				if k == 0 {
					break
				}
				k--
			}
			if j == 0 {
				break
			}
			j--
			jj -= 4
		}
		if i == 0 {
			break
		}
		i -= 4
	}

	pp.Println(c)
}

func mul(a, b int) int {
	return a * b
}
